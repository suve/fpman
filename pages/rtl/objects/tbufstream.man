.\" file autogenerated by fpman
.TH "fp-tbufstream" 3 "2014-03-14" "fpman" "Free Pascal Programmer's Manual"
.SH NAME
TBufStream - Buffered file stream
.SH LOCATION
package \fBrtl\fR, unit \fBObjects\fR, file \fBobjects.pp\fR, line 337
.SH SYNOPSIS
\fBtype\fR TBufStream = \fBobject (TDosStream)\fR
  LastMode: \fBByte\fR;              // Last file open mode
  BufSize: \fBLongInt\fR;            // Size of buffer
  BufPtr: \fBLongInt\fR;             // Pointer to current position in buffer
  BufEnd: \fBLongInt\fR;             // End of data in buffer.
  Buffer: \fBPByteArray\fR;          // Actual buffer
  \fBconstructor\fR Init;            // Initialize an instance of \fBTBufStream\fR and open the file.
  \fBdestructor\fR Done; \fBvirtual\fR;    // Close the file and cleans up the instance.
  \fBprocedure\fR Close; \fBvirtual\fR;    // Flush data and Close the file.
  \fBprocedure\fR Flush; \fBvirtual\fR;    // FLush data from buffer, and write it to stream.
  \fBprocedure\fR Truncate; \fBvirtual\fR; // Flush buffer, and truncate the file at current position.
  \fBprocedure\fR Seek; \fBvirtual\fR;     // Set current position in file.
  \fBprocedure\fR Open; \fBvirtual\fR;     // Open the file if it is closed.
  \fBprocedure\fR Read; \fBvirtual\fR;     // Read data from the file to a buffer in memory.
  \fBprocedure\fR Write; \fBvirtual\fR;    // Write data to the file from a buffer in memory.
.br
\fBend\fR;
.SH DESCRIPTION
\fBBufstream\fR implements a buffered file stream. That is, all data written to the stream is written to memory first. Only when the buffer is full, or on explicit request, the data is written to disk.

Also, when reading from the stream, first the buffer is checked if there is any unread data in it. If so, this is read first. If not the buffer is filled again, and then the data is read from the buffer.

The size of the buffer is fixed and is set when constructing the file.

This is useful if you need heavy throughput for your stream, because it speeds up operations.


.SH FPMAN
manpage autogenerated by \fIfpman\fR from \fBtbufstream.html\fR on 2015-04-09, 22:01.

