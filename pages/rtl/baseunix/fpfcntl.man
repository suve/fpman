.\" file autogenerated by fpman
.TH "fp-fpfcntl" 3 "2014-03-14" "fpman" "Free Pascal Programmer's Manual"
.SH NAME
FpFcntl - File control operations.
.SH LOCATION
package \fBrtl\fR, unit \fBBaseUnix\fR
.SH SYNOPSIS
function \fBFpFcntl\fR(fildes:cint; cmd:cint):cint;

function \fBFpFcntl\fR(fildes:cint; cmd:cint; arg:cint):cint;

function \fBFpFcntl\fR(fildes:cint; cmd:cint; \fBvar\fR arg:FLock):cint;
.SH DESCRIPTION
Read/set a file's attributes. \fBFildes\fR a valid file descriptor. \fBCmd\fR speciefies what to do, and is one of the following:

.TP
.B F_GetFd
Read the close_on_exec flag. If the low-order bit is 0, then the file will remain open across execve calls.
.TP
.B F_GetFl
Read the descriptor's flags.
.TP
.B F_GetOwn
Get the Process ID of the owner of a socket.
.TP
.B F_SetFd
Set the close_on_exec flag of \fBfildes\fR. (only the least siginificant bit is used).
.TP
.B F_GetLk
Return the \fBflock\fR record that prevents this process from obtaining the lock, or set the \fBl_type\fR field of the lock of there is no obstruction. \fBArg\fR is the flock record.
.TP
.B F_SetLk
Set the lock or clear it (depending on \fBl_type\fR in the \fBflock\fR structure). if the lock is held by another process, an error occurs.
.TP
.B F_GetLkw
Same as for F_Setlk, but wait until the lock is released.
.TP
.B F_SetOwn
Set the Process or process group that owns a socket.
.TP 0
The function returns 0 if successful, -1 otherwise.


.SH ERRORS
On error, -1 is returned. Use \fBfpGetErrno\fR for extended error information.

.TP
.B sys_ebadf
\fBFd\fR has a bad file descriptor.
.TP
.B sys_eagain or sys_eaccess
For \\textbf{F_SetLk}, if the lock is held by another process.

.SH FPMAN
manpage autogenerated by \fIfpman\fR from \fBfpfcntl.html\fR on 2015-04-09, 21:57.

